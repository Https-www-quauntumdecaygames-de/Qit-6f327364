.\" Man page generated from reStructuredText.
.
.TH "TRAP" "1" "Oct 03, 2019" "" "Korn Shell"
.SH NAME
trap \- trap signals and conditions
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.nf
trap [flags] [action condition ...]
.fi
.sp
.SH DESCRIPTION
.sp
\fBtrap\fP is a special built\-in that defines actions to be taken when
conditions such as receiving a signal occur.  Also, \fBtrap\fP can be used
to display the current trap settings on standard output.
.sp
If \fIaction\fP is \fB\-\fP, \fBtrap\fP resets each \fIcondition\fP to the default value.
If \fIaction\fP is an empty string, the shell ignores each of the \fIcondition*s
if they arise. Otherwise, the argument *action\fP will be read and executed
by the shell as if it were processed by \fBeval\fP(1) when one of the
corresponding conditions arise.  The action of the trap will override any
previous action associated with each specified \fIcondition\fP\&.  The value of
\fB$?\fP is not altered by the trap execution.
.sp
\fIcondition\fP can be the name or number of a signal, or one of the following:
.INDENT 0.0
.TP
.B :EXIT?This trap is executed when the shell exits.  If defined within a
function defined with the \fBfunction\fP reserved word, the trap is executed
in the caller\(aqs environment when the function returns and the trap action
is restored to the value it had when it called the function.
.UNINDENT
.INDENT 0.0
.TP
.B 0
Same as \fBEXIT\fP\&.
.TP
.B DEBUG
Executed before each simple command is executed but after the
arguments are expanded.
.TP
.B ERR
Executed whenever \fBset \-e\fP would cause the shell to exit.
.TP
.B KEYBD
Executed when a key is entered from a terminal device.
.UNINDENT
.sp
Signal names are case insensitive and the \fBsig\fP prefix is optional.
Signals that were ignored on entry to a noninteractive shell cannot trapped
or reset although doing so will not report an error.  The use of signal
numbers other than \fB1\fP, \fB2\fP, \fB3\fP, \fB6\fP, \fB9\fP, \fB14\fP, and \fB15\fP is not portable.
.sp
Although \fBtrap\fP is a special built\-in, specifying a condition that the
shell does not know about causes \fBtrap\fP to exit with a non\-zero exit
status, but does not terminate the invoking shell.
.sp
If no \fIaction\fP or \fIcondition\fPs are specified then all the current trap
settings are written to standard output.
.SH FLAGS
.INDENT 0.0
.TP
.B \-a
append the current trap setting to the specified \fIaction\fP\&.
.TP
.B \-p
Causes the current traps to be output in a format that can be
processed as input to the shell to recreate the current traps.
.TP
.B \-l
Output the list of signals and their numbers to standard output.
.UNINDENT
.SH EXIT STATUS
.INDENT 0.0
.TP
.B 0
Successful completion.
.TP
.B >0
An error occurred.
.UNINDENT
.SH SEE ALSO
.sp
\fBkill\fP(1), \fBeval\fP(1), \fBsignal\fP(3)
.SH AUTHOR
David J. Korn, et. al.
.SH COPYRIGHT
2019, David J. Korn, et.al.
.\" Generated by docutils manpage writer.
.
